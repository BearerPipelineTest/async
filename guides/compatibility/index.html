<!DOCTYPE html>
<html>
	<head>
		
			<title>Compatibility</title>
		
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		
		<link rel="icon" type="image/png" href="../../_static/icon.png"/>
		<link rel="stylesheet" href="../../_static/site.css" type="text/css" media="screen"/>
		
		<script src="../../_components/jquery/jquery.min.js"></script>
		<script src="../../_components/jquery-syntax/jquery.syntax.min.js"></script>
		
		<script src="../../_static/links.js"></script>
		
		<script type="text/javascript">
		//<![CDATA[
			jQuery(function($) {
				$.syntax();
			});
		//]]>
		</script>
	</head>

	<body>
		<header> › <a class="link" href="../../index.html">Project</a> › <a class="link" href="../index.html">Guides</a></header>
		
		<main>
			
	<h1>Compatibility</h1>
	
	<p>Async is compatible with a wide range of different Ruby versions.</p>
<section id="stable-v1"><h2>Stable V1</h2>
<p>The <code>stable-v1</code> branch of async is compatible with Ruby 2.5+ &amp; TruffleRuby, and partially compatible with JRuby.</p>
<p>Because it was designed with the interfaces available in Ruby 2.x, the following limitations apply:</p>
<ul>
<li><a href="../../source/Async/Task/index.html" title="Async::Task"><code class="language-ruby">class Async::Task</code></a> implements context switching using <code class="language-ruby">Fiber.yield</code> and <code class="language-ruby">Fiber.resume</code>. This means that <a href="http://localhost:43481/source/Async/index" title="Async"><code class="language-ruby">module Async</code></a> may not be compatible with code which uses fibers for flow control, e.g. <code class="language-ruby">Enumerator</code>.</li>
<li><a href="../../source/Async/Reactor/index.html" title="Async::Reactor"><code class="language-ruby">class Async::Reactor</code></a> is unable to intercept blocking operations with native interfaces. You need to use the wrappers provided by <code class="language-ruby">Async::IO</code>.</li>
<li>DNS resolution is blocking.</li>
</ul>
</section><section id="main"><h2>Main</h2>
<p>The <code>main</code> branch of async is compatible with Ruby 3.0.2+, and partially compatible with TruffleRuby. JRuby is currently incompatble.</p>
<ul>
<li><a href="../../source/Async/Task/index.html" title="Async::Task"><code class="language-ruby">class Async::Task</code></a> uses <code class="language-ruby">Fiber#transfer</code> for scheduling so it is compatible with all other usage of Fiber.</li>
<li><a href="../../source/Async/Reactor/index.html" title="Async::Reactor"><code class="language-ruby">class Async::Reactor</code></a> implements the Fiber scheduler interface and is compatible with a wide range of non-blocking operations, including DNS, <code class="language-ruby">Process.wait</code>, etc.</li>
<li>External C libraries that use blocking operations may still block.</li>
<li>Ruby 3.0 has some bugs in the non-blocking thread primitives which have not been backported. Ruby 3.1+ solves these problems.</li>
</ul>
</section>
				
			<footer>Documentation generated by <a href="https://github.com/socketry/utopia-project">Utopia::Project</a>.</footer>
		</main>
	</body>
</html>